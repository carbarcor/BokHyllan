{% extends "base.html" %}

{% block content %}
  <h1>Mina läsutmaningar</h1>
  <p>Här kan du sätta upp mål för din läsning. Till exempel hur många böcker du ska läsa under sommarlovet. Du kan sedan uppdatera dina framsteg och följa om du når ditt mål.</p>
  
  <div class="mb-3">
    <a href="{{ url_for('views.create_challenge') }}" class="btn btn-primary">Skapa ny läsutmaning</a>
  </div>
  
  <ul class="list-group">
    {% if challenges %}
      {% for challenge in challenges %}
        <li class="list-group-item">
          <strong>{{ challenge.goal }}</strong> - Mål: {{ challenge.target_number }} - Lästa: {{ challenge.progress }}
          <div class="btn-group float-right" role="group">
            <form action="{{ url_for('views.update_progress', challenge_id=challenge.id) }}" method="POST" style="display:inline;">
              <button type="submit" class="btn btn-secondary btn-sm">Uppdatera framsteg</button>
            </form>
            <form action="{{ url_for('views.delete_challenge', challenge_id=challenge.id) }}" method="POST" style="display:inline;">
              <button type="submit" class="btn btn-danger btn-sm">Ta bort</button>
            </form>
          </div>
        </li>
      {% endfor %}
    {% else %}
      <li class="list-group-item">Inga läsutmaningar hittades. Skapa en ny!</li>
    {% endif %}
  </ul>
{% endblock %}
